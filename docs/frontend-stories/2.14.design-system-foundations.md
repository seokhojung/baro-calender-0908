# Story 2.14: Design System Foundations Implementation

## ğŸ“‹ ë¬¸ì„œ ì •ë³´
- **ë¬¸ì„œ ë²„ì „**: 1.0
- **ì‘ì„±ì¼**: 2025-08-28
- **ì‘ì„±ì**: Frontend Team
- **í”„ë¡œì íŠ¸ëª…**: ë°”ë¡œìº˜ë¦°ë” (Baro Calendar)
- **ìƒíƒœ**: Active
- **ê´€ë ¨ ì•„í‚¤í…ì²˜ ë¬¸ì„œ**: [05-design-system-foundations.md](../ui-architecture/05-design-system-foundations.md)

---

## ğŸ¯ ìŠ¤í† ë¦¬ ëª©í‘œ

ë°”ë¡œìº˜ë¦°ë” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ **ì¼ê´€ì„± ìˆëŠ” ë””ìì¸ ì‹œìŠ¤í…œ ê¸°ì´ˆ**ë¥¼ êµ¬ì¶•í•˜ì—¬ ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ê°€ ì²´ê³„ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ ë””ìì¸ í† í°ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

### ì£¼ìš” êµ¬í˜„ ì‚¬í•­
- **Design Tokens ì‹œìŠ¤í…œ** êµ¬ì¶•ìœ¼ë¡œ ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼, ê°„ê²© í‘œì¤€í™”
- **8ê°€ì§€ í”„ë¡œì íŠ¸ ìƒ‰ìƒ** ì‹œìŠ¤í…œê³¼ ì‹œë§¨í‹± ë§¤í•‘
- **ì²´ê³„ì ì¸ íƒ€ì´í¬ê·¸ë˜í”¼** ë° ê°„ê²© ì‹œìŠ¤í…œ
- **Material Design ê¸°ë°˜** ê·¸ë¦¼ì ë° ì—˜ë ˆë² ì´ì…˜ ì‹œìŠ¤í…œ

---

## ğŸ‘¤ ì‚¬ìš©ì ìŠ¤í† ë¦¬

### US 2.14.1: ì¼ê´€ëœ ë””ìì¸ í† í° ì‹œìŠ¤í…œ
**As a** ê°œë°œíŒ€ì›  
**I want** CSS Variables ê¸°ë°˜ì˜ ì²´ê³„ì ì¸ ë””ìì¸ í† í°ì„ ì‚¬ìš©í•˜ê¸°ë¥¼  
**So that** ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¼ê´€ëœ ë””ìì¸ì„ ìœ ì§€í•˜ê³  í…Œë§ˆ ë³€ê²½ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤.

**ì¸ìˆ˜ ì¡°ê±´:**
- [ ] CSS Variablesë¡œ ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼, ê°„ê²© í† í° ì •ì˜
- [ ] ë¼ì´íŠ¸/ë‹¤í¬ í…Œë§ˆ ìë™ ì „í™˜ ì§€ì›
- [ ] TypeScript íƒ€ì… ì•ˆì „ì„±ì„ ìœ„í•œ í† í° íƒ€ì… ì •ì˜
- [ ] ì‹¤ì‹œê°„ ë””ìì¸ í† í° ë³€ê²½ ë° ì ìš©

### US 2.14.2: í”„ë¡œì íŠ¸ ìƒ‰ìƒ ì‹œìŠ¤í…œ
**As a** ì‚¬ìš©ì  
**I want** 8ê°€ì§€ í”„ë¡œì íŠ¸ë³„ ê³ ìœ  ìƒ‰ìƒì„ í†µí•´ í”„ë¡œì íŠ¸ë¥¼ êµ¬ë¶„í•˜ê¸°ë¥¼  
**So that** ì‹œê°ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ë¹ ë¥´ê²Œ ì‹ë³„í•˜ê³  ìº˜ë¦°ë”ì—ì„œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.

**ì¸ìˆ˜ ì¡°ê±´:**
- [ ] 8ê°€ì§€ í”„ë¡œì íŠ¸ ìƒ‰ìƒ (Blue, Green, Purple, Orange, Red, Teal, Pink, Indigo)
- [ ] ê° ìƒ‰ìƒë³„ 50-900 ìŠ¤ì¼€ì¼ ì§€ì›
- [ ] ì ‘ê·¼ì„±ì„ ê³ ë ¤í•œ ì¶©ë¶„í•œ ëŒ€ë¹„ìœ¨ í™•ë³´
- [ ] ì‹œë§¨í‹± ìƒ‰ìƒê³¼ í”„ë¡œì íŠ¸ ìƒ‰ìƒ ê°„ ë§¤í•‘

### US 2.14.3: í™•ì¥ ê°€ëŠ¥í•œ íƒ€ì´í¬ê·¸ë˜í”¼ ì‹œìŠ¤í…œ
**As a** ë””ìì´ë„ˆ  
**I want** ì²´ê³„ì ì¸ íƒ€ì´í¬ê·¸ë˜í”¼ ì‹œìŠ¤í…œì„ í†µí•´ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ì„ í‘œì¤€í™”í•˜ê¸°ë¥¼  
**So that** ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì •ë³´ ìœ„ê³„ê°€ ëª…í™•í•˜ê³  ê°€ë…ì„±ì´ ì¢‹ì€ í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.

**ì¸ìˆ˜ ì¡°ê±´:**
- [ ] 9ë‹¨ê³„ í°íŠ¸ í¬ê¸° ì‹œìŠ¤í…œ (xs ~ 9xl)
- [ ] í—¤ë”©, ë³¸ë¬¸, ìº¡ì…˜ ë“± ì‹œë§¨í‹± íƒ€ì´í¬ê·¸ë˜í”¼ ì»´í¬ë„ŒíŠ¸
- [ ] Inter í°íŠ¸ ê¸°ë°˜ ì›¹í°íŠ¸ ìµœì í™”
- [ ] ë°˜ì‘í˜• íƒ€ì´í¬ê·¸ë˜í”¼ ì§€ì›

---

## ğŸ”§ ê¸°ìˆ ì  êµ¬í˜„ ìš”êµ¬ì‚¬í•­

### 1. ë””ìì¸ í† í° ì‹œìŠ¤í…œ êµ¬í˜„

**ì£¼ìš” íŒŒì¼**: `src/styles/design-tokens.css`

```css
/* src/styles/design-tokens.css */
:root {
  /* í”„ë¡œì íŠ¸ ìƒ‰ìƒ ì‹œìŠ¤í…œ - 8ê°€ì§€ ê¸°ë³¸ ìƒ‰ìƒ */
  --project-blue-50: #EFF6FF;
  --project-blue-100: #DBEAFE;
  --project-blue-200: #BFDBFE;
  --project-blue-300: #93C5FD;
  --project-blue-400: #60A5FA;
  --project-blue-500: #3B82F6;
  --project-blue-600: #2563EB;
  --project-blue-700: #1D4ED8;
  --project-blue-800: #1E40AF;
  --project-blue-900: #1E3A8A;
  
  --project-green-50: #ECFDF5;
  --project-green-100: #D1FAE5;
  --project-green-200: #A7F3D0;
  --project-green-300: #6EE7B7;
  --project-green-400: #34D399;
  --project-green-500: #10B981;
  --project-green-600: #059669;
  --project-green-700: #047857;
  --project-green-800: #065F46;
  --project-green-900: #064E3B;
  
  --project-purple-50: #F5F3FF;
  --project-purple-100: #EDE9FE;
  --project-purple-200: #DDD6FE;
  --project-purple-300: #C4B5FD;
  --project-purple-400: #A78BFA;
  --project-purple-500: #8B5CF6;
  --project-purple-600: #7C3AED;
  --project-purple-700: #6D28D9;
  --project-purple-800: #5B21B6;
  --project-purple-900: #4C1D95;
  
  --project-orange-50: #FFFBEB;
  --project-orange-100: #FEF3C7;
  --project-orange-200: #FDE68A;
  --project-orange-300: #FCD34D;
  --project-orange-400: #FBBF24;
  --project-orange-500: #F59E0B;
  --project-orange-600: #D97706;
  --project-orange-700: #B45309;
  --project-orange-800: #92400E;
  --project-orange-900: #78350F;
  
  --project-red-50: #FEF2F2;
  --project-red-100: #FEE2E2;
  --project-red-200: #FECACA;
  --project-red-300: #FCA5A5;
  --project-red-400: #F87171;
  --project-red-500: #EF4444;
  --project-red-600: #DC2626;
  --project-red-700: #B91C1C;
  --project-red-800: #991B1B;
  --project-red-900: #7F1D1D;
  
  --project-teal-50: #F0FDFA;
  --project-teal-100: #CCFBF1;
  --project-teal-200: #99F6E4;
  --project-teal-300: #5EEAD4;
  --project-teal-400: #2DD4BF;
  --project-teal-500: #14B8A6;
  --project-teal-600: #0D9488;
  --project-teal-700: #0F766E;
  --project-teal-800: #115E59;
  --project-teal-900: #134E4A;
  
  --project-pink-50: #FDF2F8;
  --project-pink-100: #FCE7F3;
  --project-pink-200: #FBCFE8;
  --project-pink-300: #F9A8D4;
  --project-pink-400: #F472B6;
  --project-pink-500: #EC4899;
  --project-pink-600: #DB2777;
  --project-pink-700: #BE185D;
  --project-pink-800: #9D174D;
  --project-pink-900: #831843;
  
  --project-indigo-50: #EEF2FF;
  --project-indigo-100: #E0E7FF;
  --project-indigo-200: #C7D2FE;
  --project-indigo-300: #A5B4FC;
  --project-indigo-400: #818CF8;
  --project-indigo-500: #6366F1;
  --project-indigo-600: #4F46E5;
  --project-indigo-700: #4338CA;
  --project-indigo-800: #3730A3;
  --project-indigo-900: #312E81;
  
  /* ì‹œë§¨í‹± ìƒ‰ìƒ ë§¤í•‘ */
  --primary: var(--project-blue-500);
  --primary-50: var(--project-blue-50);
  --primary-100: var(--project-blue-100);
  --primary-500: var(--project-blue-500);
  --primary-600: var(--project-blue-600);
  --primary-700: var(--project-blue-700);
  --primary-foreground: #ffffff;
  
  --secondary: #f8fafc;
  --secondary-foreground: #0f172a;
  --accent: #f1f5f9;
  --accent-foreground: #0f172a;
  
  --success: var(--project-green-500);
  --success-foreground: #ffffff;
  --warning: var(--project-orange-500);
  --warning-foreground: #ffffff;
  --danger: var(--project-red-500);
  --danger-foreground: #ffffff;
  --info: var(--project-blue-500);
  --info-foreground: #ffffff;
  
  --muted: #f8fafc;
  --muted-foreground: #64748b;
  --border: #e2e8f0;
  --input: #e2e8f0;
  --ring: var(--primary);
  --background: #ffffff;
  --foreground: #0f172a;
  --card: #ffffff;
  --card-foreground: #0f172a;
  --popover: #ffffff;
  --popover-foreground: #0f172a;
  
  /* íƒ€ì´í¬ê·¸ë˜í”¼ í† í° */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Monaco', 'Consolas', monospace;
  --font-heading: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  
  /* í°íŠ¸ í¬ê¸° í† í° */
  --text-xs: 0.75rem;     /* 12px */
  --text-sm: 0.875rem;    /* 14px */
  --text-base: 1rem;      /* 16px */
  --text-lg: 1.125rem;    /* 18px */
  --text-xl: 1.25rem;     /* 20px */
  --text-2xl: 1.5rem;     /* 24px */
  --text-3xl: 1.875rem;   /* 30px */
  --text-4xl: 2.25rem;    /* 36px */
  --text-5xl: 3rem;       /* 48px */
  --text-6xl: 3.75rem;    /* 60px */
  --text-7xl: 4.5rem;     /* 72px */
  --text-8xl: 6rem;       /* 96px */
  --text-9xl: 8rem;       /* 128px */
  
  /* í–‰ê°„ í† í° */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;
  
  /* ê°„ê²© ì‹œìŠ¤í…œ í† í° */
  --spacing-px: 1px;
  --spacing-0: 0px;
  --spacing-0-5: 0.125rem;  /* 2px */
  --spacing-1: 0.25rem;     /* 4px */
  --spacing-1-5: 0.375rem;  /* 6px */
  --spacing-2: 0.5rem;      /* 8px */
  --spacing-2-5: 0.625rem;  /* 10px */
  --spacing-3: 0.75rem;     /* 12px */
  --spacing-3-5: 0.875rem;  /* 14px */
  --spacing-4: 1rem;        /* 16px */
  --spacing-5: 1.25rem;     /* 20px */
  --spacing-6: 1.5rem;      /* 24px */
  --spacing-7: 1.75rem;     /* 28px */
  --spacing-8: 2rem;        /* 32px */
  --spacing-9: 2.25rem;     /* 36px */
  --spacing-10: 2.5rem;     /* 40px */
  --spacing-12: 3rem;       /* 48px */
  --spacing-14: 3.5rem;     /* 56px */
  --spacing-16: 4rem;       /* 64px */
  --spacing-20: 5rem;       /* 80px */
  --spacing-24: 6rem;       /* 96px */
  --spacing-32: 8rem;       /* 128px */
  
  /* ì‹œë§¨í‹± ê°„ê²© */
  --spacing-xs: var(--spacing-1);
  --spacing-sm: var(--spacing-2);
  --spacing-md: var(--spacing-4);
  --spacing-lg: var(--spacing-6);
  --spacing-xl: var(--spacing-8);
  --spacing-2xl: var(--spacing-12);
  --spacing-3xl: var(--spacing-16);
  --spacing-4xl: var(--spacing-20);
  --spacing-5xl: var(--spacing-24);
  
  /* ê·¸ë¦¼ì ì‹œìŠ¤í…œ í† í° */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-default: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
  
  /* ì „í™˜ íš¨ê³¼ í† í° */
  --transition-fast: 150ms ease-in-out;
  --transition-normal: 300ms ease-in-out;
  --transition-slow: 500ms ease-in-out;
  
  /* ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸ */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
  
  /* ë ˆì´ì•„ì›ƒ í† í° */
  --container-padding-mobile: var(--spacing-md);
  --container-padding-tablet: var(--spacing-lg);
  --container-padding-desktop: var(--spacing-xl);
  
  --section-spacing-small: var(--spacing-2xl);
  --section-spacing-medium: var(--spacing-3xl);
  --section-spacing-large: var(--spacing-4xl);
}

/* ë‹¤í¬ í…Œë§ˆ */
[data-theme="dark"] {
  --background: #0f172a;
  --foreground: #f8fafc;
  --card: #1e293b;
  --card-foreground: #f8fafc;
  --popover: #1e293b;
  --popover-foreground: #f8fafc;
  --primary: var(--project-blue-500);
  --primary-foreground: #ffffff;
  --secondary: #1e293b;
  --secondary-foreground: #f8fafc;
  --muted: #1e293b;
  --muted-foreground: #64748b;
  --accent: #1e293b;
  --accent-foreground: #f8fafc;
  --border: #334155;
  --input: #334155;
  --ring: var(--project-blue-500);
}

/* ë‹¤í¬ëª¨ë“œ ìë™ ê°ì§€ */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: #0f172a;
    --foreground: #f8fafc;
    --card: #1e293b;
    --card-foreground: #f8fafc;
    --popover: #1e293b;
    --popover-foreground: #f8fafc;
    --secondary: #1e293b;
    --secondary-foreground: #f8fafc;
    --muted: #1e293b;
    --muted-foreground: #64748b;
    --accent: #1e293b;
    --accent-foreground: #f8fafc;
    --border: #334155;
    --input: #334155;
  }
}
```

### 2. TypeScript íƒ€ì… ì •ì˜ ì‹œìŠ¤í…œ

**ì£¼ìš” íŒŒì¼**: `src/lib/design-tokens/types.ts`

```typescript
// src/lib/design-tokens/types.ts

// í”„ë¡œì íŠ¸ ìƒ‰ìƒ íƒ€ì…
export const PROJECT_COLORS = [
  'blue',
  'green', 
  'purple',
  'orange',
  'red',
  'teal',
  'pink',
  'indigo',
] as const

export type ProjectColor = typeof PROJECT_COLORS[number]

// ìƒ‰ìƒ ìŠ¤ì¼€ì¼ íƒ€ì…
export const COLOR_SCALES = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900] as const
export type ColorScale = typeof COLOR_SCALES[number]

// ì‹œë§¨í‹± ìƒ‰ìƒ íƒ€ì…
export const SEMANTIC_COLORS = [
  'primary',
  'secondary', 
  'accent',
  'success',
  'warning',
  'danger',
  'info',
  'muted',
  'background',
  'foreground',
  'border',
  'card',
  'popover',
] as const

export type SemanticColor = typeof SEMANTIC_COLORS[number]

// í°íŠ¸ í¬ê¸° íƒ€ì…
export const FONT_SIZES = [
  'xs',
  'sm', 
  'base',
  'lg',
  'xl',
  '2xl',
  '3xl',
  '4xl',
  '5xl',
  '6xl',
  '7xl',
  '8xl',
  '9xl',
] as const

export type FontSize = typeof FONT_SIZES[number]

// í°íŠ¸ êµµê¸° íƒ€ì…
export const FONT_WEIGHTS = [
  'thin',
  'extralight',
  'light',
  'normal',
  'medium',
  'semibold',
  'bold',
  'extrabold',
  'black',
] as const

export type FontWeight = typeof FONT_WEIGHTS[number]

// ê°„ê²© íƒ€ì…
export const SPACINGS = [
  'px',
  '0',
  '0.5',
  '1',
  '1.5',
  '2',
  '2.5',
  '3',
  '3.5',
  '4',
  '5',
  '6',
  '7',
  '8',
  '9',
  '10',
  '12',
  '14',
  '16',
  '20',
  '24',
  '32',
  'xs',
  'sm',
  'md',
  'lg',
  'xl',
  '2xl',
  '3xl',
  '4xl',
  '5xl',
] as const

export type Spacing = typeof SPACINGS[number]

// ê·¸ë¦¼ì íƒ€ì…
export const SHADOWS = [
  'none',
  'sm',
  'default',
  'md',
  'lg',
  'xl',
  '2xl',
  'inner',
] as const

export type Shadow = typeof SHADOWS[number]

// ì—˜ë ˆë² ì´ì…˜ ë ˆë²¨
export const ELEVATIONS = [0, 1, 2, 3, 4, 5, 6] as const
export type Elevation = typeof ELEVATIONS[number]

// íƒ€ì´í¬ê·¸ë˜í”¼ ë³€í˜•
export const TYPOGRAPHY_VARIANTS = [
  'h1',
  'h2',
  'h3', 
  'h4',
  'h5',
  'h6',
  'body1',
  'body2',
  'caption',
  'overline',
] as const

export type TypographyVariant = typeof TYPOGRAPHY_VARIANTS[number]

// ë””ìì¸ í† í° ì¸í„°í˜ì´ìŠ¤
export interface DesignTokens {
  colors: {
    project: Record<ProjectColor, Record<ColorScale, string>>
    semantic: Record<SemanticColor, string>
  }
  typography: {
    fontSizes: Record<FontSize, [string, { lineHeight: string }]>
    fontWeights: Record<FontWeight, string>
    fontFamilies: {
      sans: string[]
      mono: string[]
      heading: string[]
    }
  }
  spacing: Record<Spacing, string>
  shadows: Record<Shadow, string>
  elevations: Record<Elevation, string>
}

// í…Œë§ˆ íƒ€ì…
export type Theme = 'light' | 'dark' | 'auto'

// ì»¬ëŸ¬ ëª¨ë“œ ì»¨í…ìŠ¤íŠ¸
export interface ColorModeContext {
  theme: Theme
  setTheme: (theme: Theme) => void
  resolvedTheme: 'light' | 'dark'
  systemTheme: 'light' | 'dark'
}
```

### 3. ë””ìì¸ í† í° ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

**ì£¼ìš” íŒŒì¼**: `src/lib/design-tokens/utils.ts`

```typescript
// src/lib/design-tokens/utils.ts
import { 
  ProjectColor, 
  ColorScale, 
  SemanticColor, 
  FontSize, 
  Spacing,
  Shadow,
  Elevation 
} from './types'

// CSS ë³€ìˆ˜ ì ‘ê·¼ ìœ í‹¸ë¦¬í‹°
export const getCSSVariable = (name: string): string => {
  if (typeof window === 'undefined') {
    return `var(--${name})`
  }
  
  const value = getComputedStyle(document.documentElement)
    .getPropertyValue(`--${name}`)
    .trim()
    
  return value || `var(--${name})`
}

// í”„ë¡œì íŠ¸ ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°
export const getProjectColor = (
  color: ProjectColor, 
  scale: ColorScale = 500
): string => {
  return getCSSVariable(`project-${color}-${scale}`)
}

// ì‹œë§¨í‹± ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°  
export const getSemanticColor = (color: SemanticColor): string => {
  return getCSSVariable(color)
}

// ê°„ê²© ê°’ ê°€ì ¸ì˜¤ê¸°
export const getSpacing = (spacing: Spacing): string => {
  return getCSSVariable(`spacing-${spacing}`)
}

// ê·¸ë¦¼ì ê°’ ê°€ì ¸ì˜¤ê¸°
export const getShadow = (shadow: Shadow): string => {
  return getCSSVariable(`shadow-${shadow === 'default' ? 'default' : shadow}`)
}

// ì—˜ë ˆë² ì´ì…˜ ê°€ì ¸ì˜¤ê¸°
export const getElevation = (level: Elevation): string => {
  const shadowMap: Record<Elevation, Shadow> = {
    0: 'none',
    1: 'sm',
    2: 'default', 
    3: 'md',
    4: 'lg',
    5: 'xl',
    6: '2xl',
  }
  
  return getShadow(shadowMap[level])
}

// í°íŠ¸ í¬ê¸° ê°€ì ¸ì˜¤ê¸°
export const getFontSize = (size: FontSize): string => {
  return getCSSVariable(`text-${size}`)
}

// ë°˜ì‘í˜• ê°„ê²© ìƒì„±
export const createResponsiveSpacing = (
  mobile: Spacing,
  tablet?: Spacing,
  desktop?: Spacing
): string => {
  let styles = getSpacing(mobile)
  
  if (tablet) {
    styles += ` md:${getSpacing(tablet)}`
  }
  
  if (desktop) {
    styles += ` lg:${getSpacing(desktop)}`
  }
  
  return styles
}

// ìƒ‰ìƒ ëŒ€ë¹„ ê³„ì‚°
export const getContrastColor = (backgroundColor: string): string => {
  // ê°„ë‹¨í•œ ëª…ë„ ê¸°ë°˜ ëŒ€ë¹„ ìƒ‰ìƒ ê²°ì •
  const hex = backgroundColor.replace('#', '')
  const r = parseInt(hex.substr(0, 2), 16)
  const g = parseInt(hex.substr(2, 2), 16)  
  const b = parseInt(hex.substr(4, 2), 16)
  
  // ëª…ë„ ê³„ì‚° (0-255)
  const brightness = ((r * 299) + (g * 587) + (b * 114)) / 1000
  
  return brightness > 155 ? '#000000' : '#ffffff'
}

// ìƒ‰ìƒ íˆ¬ëª…ë„ ì ìš©
export const withOpacity = (color: string, opacity: number): string => {
  if (color.startsWith('var(')) {
    return `hsl(from ${color} h s l / ${opacity})`
  }
  
  // HEX to HSL ë³€í™˜ í›„ íˆ¬ëª…ë„ ì ìš©
  return `${color}${Math.round(opacity * 255).toString(16).padStart(2, '0')}`
}

// ë™ì  ìƒ‰ìƒ ìŠ¤ì¼€ì¼ ìƒì„±
export const generateColorScale = (baseColor: string) => {
  const scales: Record<ColorScale, string> = {
    50: lighten(baseColor, 0.95),
    100: lighten(baseColor, 0.9),
    200: lighten(baseColor, 0.8),
    300: lighten(baseColor, 0.6),
    400: lighten(baseColor, 0.3),
    500: baseColor,
    600: darken(baseColor, 0.2),
    700: darken(baseColor, 0.4),
    800: darken(baseColor, 0.6),
    900: darken(baseColor, 0.8),
  }
  
  return scales
}

// ìƒ‰ìƒ ë°ê²Œ í•˜ê¸°
const lighten = (color: string, amount: number): string => {
  const hsl = hexToHsl(color)
  return hslToHex({
    ...hsl,
    l: Math.min(100, hsl.l + (amount * 100))
  })
}

// ìƒ‰ìƒ ì–´ë‘¡ê²Œ í•˜ê¸°  
const darken = (color: string, amount: number): string => {
  const hsl = hexToHsl(color)
  return hslToHex({
    ...hsl,
    l: Math.max(0, hsl.l - (amount * 100))
  })
}

// HEX to HSL ë³€í™˜
const hexToHsl = (hex: string): { h: number; s: number; l: number } => {
  const r = parseInt(hex.slice(1, 3), 16) / 255
  const g = parseInt(hex.slice(3, 5), 16) / 255
  const b = parseInt(hex.slice(5, 7), 16) / 255
  
  const max = Math.max(r, g, b)
  const min = Math.min(r, g, b)
  let h = 0, s = 0, l = (max + min) / 2
  
  if (max === min) {
    h = s = 0 // achromatic
  } else {
    const d = max - min
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min)
    
    switch (max) {
      case r: h = (g - b) / d + (g < b ? 6 : 0); break
      case g: h = (b - r) / d + 2; break
      case b: h = (r - g) / d + 4; break
    }
    
    h /= 6
  }
  
  return { h: h * 360, s: s * 100, l: l * 100 }
}

// HSL to HEX ë³€í™˜
const hslToHex = ({ h, s, l }: { h: number; s: number; l: number }): string => {
  h /= 360
  s /= 100
  l /= 100
  
  const hue2rgb = (p: number, q: number, t: number) => {
    if (t < 0) t += 1
    if (t > 1) t -= 1
    if (t < 1/6) return p + (q - p) * 6 * t
    if (t < 1/2) return q
    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6
    return p
  }
  
  let r, g, b
  
  if (s === 0) {
    r = g = b = l // achromatic
  } else {
    const q = l < 0.5 ? l * (1 + s) : l + s - l * s
    const p = 2 * l - q
    r = hue2rgb(p, q, h + 1/3)
    g = hue2rgb(p, q, h)
    b = hue2rgb(p, q, h - 1/3)
  }
  
  const toHex = (c: number) => {
    const hex = Math.round(c * 255).toString(16)
    return hex.length === 1 ? '0' + hex : hex
  }
  
  return `#${toHex(r)}${toHex(g)}${toHex(b)}`
}

// í”„ë¡œì íŠ¸ ìƒ‰ìƒ ë§¤í•‘
export const PROJECT_COLOR_MAP: Record<number, ProjectColor> = {
  1: 'blue',
  2: 'green',
  3: 'purple', 
  4: 'orange',
  5: 'red',
  6: 'teal',
  7: 'pink',
  8: 'indigo',
} as const

// í”„ë¡œì íŠ¸ IDë¡œ ìƒ‰ìƒ ê°€ì ¸ì˜¤ê¸°
export const getProjectColorById = (projectId: number): ProjectColor => {
  return PROJECT_COLOR_MAP[projectId] || 'blue'
}

// CSS í´ë˜ìŠ¤ ì´ë¦„ ìƒì„±
export const createColorClasses = (
  color: ProjectColor,
  type: 'bg' | 'text' | 'border' = 'bg',
  scale: ColorScale = 500
): string => {
  return `${type}-project-${color}-${scale}`
}
```

### 4. íƒ€ì´í¬ê·¸ë˜í”¼ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

**ì£¼ìš” íŒŒì¼**: `src/components/ui/Typography.tsx`

```typescript
// src/components/ui/Typography.tsx
import React from 'react'
import { cn } from '@/lib/utils'
import { TypographyVariant } from '@/lib/design-tokens/types'

interface TypographyProps {
  variant: TypographyVariant
  children: React.ReactNode
  className?: string
  as?: React.ElementType
  color?: 'default' | 'muted' | 'primary' | 'success' | 'warning' | 'danger'
}

const typographyVariants: Record<TypographyVariant, string> = {
  h1: 'text-4xl font-bold leading-tight tracking-tight text-foreground',
  h2: 'text-3xl font-semibold leading-tight tracking-tight text-foreground',
  h3: 'text-2xl font-semibold leading-snug text-foreground',
  h4: 'text-xl font-medium leading-snug text-foreground',
  h5: 'text-lg font-medium leading-normal text-foreground', 
  h6: 'text-base font-medium leading-normal text-foreground',
  body1: 'text-base leading-relaxed text-foreground',
  body2: 'text-sm leading-relaxed text-foreground',
  caption: 'text-xs leading-normal text-muted-foreground',
  overline: 'text-xs font-medium uppercase tracking-wider text-muted-foreground',
} as const

const colorVariants = {
  default: 'text-foreground',
  muted: 'text-muted-foreground',
  primary: 'text-primary',
  success: 'text-success',
  warning: 'text-warning', 
  danger: 'text-danger',
} as const

export const Typography: React.FC<TypographyProps> = ({
  variant,
  children,
  className,
  as,
  color = 'default',
}) => {
  const Component = as || getDefaultElement(variant)
  
  const variantClasses = typographyVariants[variant]
  const colorClasses = color !== 'default' ? colorVariants[color] : ''
  
  return (
    <Component 
      className={cn(
        variantClasses,
        colorClasses,
        className
      )}
    >
      {children}
    </Component>
  )
}

const getDefaultElement = (variant: TypographyVariant): React.ElementType => {
  switch (variant) {
    case 'h1': return 'h1'
    case 'h2': return 'h2'
    case 'h3': return 'h3'
    case 'h4': return 'h4' 
    case 'h5': return 'h5'
    case 'h6': return 'h6'
    case 'overline': return 'span'
    case 'caption': return 'span'
    default: return 'p'
  }
}

// ë¯¸ë¦¬ ì •ì˜ëœ íƒ€ì´í¬ê·¸ë˜í”¼ ì»´í¬ë„ŒíŠ¸ë“¤
export const H1: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="h1" {...props} />
)

export const H2: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="h2" {...props} />
)

export const H3: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="h3" {...props} />
)

export const H4: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="h4" {...props} />
)

export const H5: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="h5" {...props} />
)

export const H6: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="h6" {...props} />
)

export const Body1: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="body1" {...props} />
)

export const Body2: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="body2" {...props} />
)

export const Caption: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="caption" {...props} />
)

export const Overline: React.FC<Omit<TypographyProps, 'variant'>> = (props) => (
  <Typography variant="overline" {...props} />
)
```

---

## ğŸ¨ UX ë””ìì¸ ê³ ë ¤ì‚¬í•­

### ì‹œê°ì  ì¼ê´€ì„±
- **8ê°€ì§€ í”„ë¡œì íŠ¸ ìƒ‰ìƒ**: í”„ë¡œì íŠ¸ë³„ ì‹œê°ì  êµ¬ë¶„ ë° ë¸Œëœë“œ ì¼ê´€ì„±
- **ì ‘ê·¼ì„± ê³ ë ¤**: WCAG 2.1 AA ê¸°ì¤€ ìƒ‰ìƒ ëŒ€ë¹„ìœ¨ 4.5:1 ì´ìƒ í™•ë³´
- **ë‹¤í¬ëª¨ë“œ ì§€ì›**: ìë™ ì‹œìŠ¤í…œ í…Œë§ˆ ê°ì§€ ë° ìˆ˜ë™ ì „í™˜ ê¸°ëŠ¥

### íƒ€ì´í¬ê·¸ë˜í”¼ ìœ„ê³„
- **ëª…í™•í•œ ì •ë³´ êµ¬ì¡°**: H1~H6 í—¤ë”©ì„ í†µí•œ ê³„ì¸µì  ì •ë³´ í‘œí˜„
- **ê°€ë…ì„± ìµœì í™”**: Inter í°íŠ¸ ë° ì ì ˆí•œ í–‰ê°„ìœ¼ë¡œ ì½ê¸° í¸ì˜ì„± í–¥ìƒ
- **ë°˜ì‘í˜• íƒ€ì´í¬ê·¸ë˜í”¼**: í™”ë©´ í¬ê¸°ë³„ ìµœì í™”ëœ í°íŠ¸ í¬ê¸°

### ìŠ¤ì¼€ì¼ ê°€ëŠ¥í•œ ê°„ê²©
- **4px ê¸°ë°˜ ê°„ê²© ì‹œìŠ¤í…œ**: ì¼ê´€ëœ ë¦¬ë“¬ê°ê³¼ ì •ë ¬
- **ì‹œë§¨í‹± ê°„ê²©**: xs, sm, md, lg ë“± ì˜ë¯¸ ê¸°ë°˜ ê°„ê²© í† í°
- **ì»´í¬ë„ŒíŠ¸ë³„ ìµœì í™”**: ê° UI ìš”ì†Œë³„ ì ì ˆí•œ ì—¬ë°±ê³¼ íŒ¨ë”©

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### CSS ë³€ìˆ˜ ìµœì í™”
- **ë¸Œë¼ìš°ì € ìºì‹±**: CSS ë³€ìˆ˜ì˜ íš¨ìœ¨ì ì¸ ë¸Œë¼ìš°ì € ìºì‹± í™œìš©
- **ê³„ì‚° ìµœì†Œí™”**: ëŸ°íƒ€ì„ ìƒ‰ìƒ ê³„ì‚° ëŒ€ì‹  ë¯¸ë¦¬ ì •ì˜ëœ í† í° ì‚¬ìš©
- **íŠ¸ë¦¬ ì‰ì´í‚¹**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë””ìì¸ í† í° ìë™ ì œê±°

### ì›¹í°íŠ¸ ìµœì í™”
- **í°íŠ¸ í”„ë¦¬ë¡œë”©**: ì¤‘ìš” í°íŠ¸ì˜ ë¯¸ë¦¬ ë¡œë”©ìœ¼ë¡œ FOUT ë°©ì§€
- **í°íŠ¸ ì„œë¸Œì…‹**: í•œê¸€ê³¼ ì˜ë¬¸ë§Œ í¬í•¨í•œ ê²½ëŸ‰í™”ëœ í°íŠ¸ íŒŒì¼
- **í°íŠ¸ ë””ìŠ¤í”Œë ˆì´ ìµœì í™”**: font-display: swapìœ¼ë¡œ ë¡œë”© ì„±ëŠ¥ ê°œì„ 

---

## ğŸ§ª Definition of Done

### ë””ìì¸ í† í° êµ¬í˜„ ìš”êµ¬ì‚¬í•­
- [ ] CSS Variablesë¡œ ëª¨ë“  ë””ìì¸ í† í° ì •ì˜ ì™„ë£Œ
- [ ] TypeScript íƒ€ì… ì •ì˜ë¡œ íƒ€ì… ì•ˆì „ì„± í™•ë³´
- [ ] 8ê°€ì§€ í”„ë¡œì íŠ¸ ìƒ‰ìƒ ì‹œìŠ¤í…œ (ê° 50-900 ìŠ¤ì¼€ì¼) êµ¬í˜„
- [ ] ë¼ì´íŠ¸/ë‹¤í¬ í…Œë§ˆ ìë™ ì „í™˜ ë° ìˆ˜ë™ ì„¤ì • ì§€ì›

### íƒ€ì´í¬ê·¸ë˜í”¼ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
- [ ] 9ë‹¨ê³„ í°íŠ¸ í¬ê¸° ì‹œìŠ¤í…œ (xs ~ 9xl) êµ¬í˜„
- [ ] Typography ì»´í¬ë„ŒíŠ¸ ë° ë¯¸ë¦¬ ì •ì˜ëœ ì»´í¬ë„ŒíŠ¸ë“¤ (H1~H6, Body1/2 ë“±)
- [ ] Inter ì›¹í°íŠ¸ ìµœì í™” (í”„ë¦¬ë¡œë”©, ì„œë¸Œì…‹, font-display)
- [ ] ì ‘ê·¼ì„±ì„ ê³ ë ¤í•œ ì¶©ë¶„í•œ ìƒ‰ìƒ ëŒ€ë¹„ìœ¨ í™•ë³´

### ê°„ê²© ë° ë ˆì´ì•„ì›ƒ ìš”êµ¬ì‚¬í•­
- [ ] 4px ê¸°ë°˜ ê°„ê²© ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
- [ ] ì‹œë§¨í‹± ê°„ê²© í† í° (xs, sm, md, lg, xl ë“±) ì •ì˜
- [ ] ë°˜ì‘í˜• ê°„ê²© ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ êµ¬í˜„
- [ ] ë ˆì´ì•„ì›ƒ íŠ¹í™” ê°„ê²© í† í° (ì»¨í…Œì´ë„ˆ, ì„¹ì…˜, ì»´í¬ë„ŒíŠ¸)

### ìœ í‹¸ë¦¬í‹° ë° ë„êµ¬ ìš”êµ¬ì‚¬í•­
- [ ] ë””ìì¸ í† í° ì ‘ê·¼ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤ êµ¬í˜„
- [ ] ë™ì  ìƒ‰ìƒ ìƒì„± ë° ì¡°ì‘ í•¨ìˆ˜
- [ ] í”„ë¡œì íŠ¸ ID ê¸°ë°˜ ìƒ‰ìƒ ë§¤í•‘ ì‹œìŠ¤í…œ
- [ ] CSS í´ë˜ìŠ¤ ìë™ ìƒì„± ìœ í‹¸ë¦¬í‹°

### í’ˆì§ˆ ë³´ì¦ ìš”êµ¬ì‚¬í•­
- [ ] Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ > 90%
- [ ] Storybookìœ¼ë¡œ ëª¨ë“  ë””ìì¸ í† í° ì‹œê°ì  ë¬¸ì„œí™”
- [ ] ìƒ‰ìƒ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ í†µê³¼ (ëŒ€ë¹„ìœ¨ 4.5:1 ì´ìƒ)
- [ ] í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ê²€ì¦ (Chrome, Firefox, Safari, Edge)

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [05-design-system-foundations.md](../ui-architecture/05-design-system-foundations.md) - ë””ìì¸ ì‹œìŠ¤í…œ ê¸°ì´ˆ ì•„í‚¤í…ì²˜
- [Story 2.15: Component Styling Patterns](./2.15.component-styling-patterns.md) - ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§
- [Story 2.16: Theme & Responsive Design](./2.16.theme-responsive-design.md) - í…Œë§ˆ ë° ë°˜ì‘í˜•
- [Story 1.8: Design System Theme Implementation](./1.8.design-system-theme-implementation.md) - ê¸°ì¡´ í…Œë§ˆ êµ¬í˜„

---

## ğŸ“ˆ ì„±ê³µ ì§€í‘œ

### ê°œë°œ íš¨ìœ¨ì„± ì§€í‘œ
- **ë””ìì¸ í† í° í™œìš©ë¥ **: í•˜ë“œì½”ë”©ëœ ìŠ¤íƒ€ì¼ ê°’ < 5%
- **íƒ€ì… ì•ˆì „ì„±**: TypeScript ì»´íŒŒì¼ ì—ëŸ¬ 0ê°œ
- **ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ë¥ **: ê¸°ë³¸ Typography ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë¥  > 80%
- **ê°œë°œ ì†ë„**: ìƒˆ ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§ ì‹œê°„ 50% ë‹¨ì¶•

### ì‚¬ìš©ì ê²½í—˜ ì§€í‘œ  
- **ì‹œê°ì  ì¼ê´€ì„±**: ë””ìì¸ ì‹œìŠ¤í…œ ì¤€ìˆ˜ìœ¨ > 95%
- **ì ‘ê·¼ì„± ì ìˆ˜**: Lighthouse ì ‘ê·¼ì„± ì ìˆ˜ > 95
- **ë¡œë”© ì„±ëŠ¥**: í°íŠ¸ ë¡œë”©ìœ¼ë¡œ ì¸í•œ CLS < 0.1
- **í…Œë§ˆ ì „í™˜**: ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ì „í™˜ ì§€ì—°ì‹œê°„ < 100ms